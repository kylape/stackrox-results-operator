apiVersion: results.stackrox.io/v1alpha1
kind: ResultsExporter
metadata:
  name: stackrox-exporter-aggregated
  namespace: stackrox-operator
  labels:
    app.kubernetes.io/name: stackrox-results-operator
    app.kubernetes.io/managed-by: kustomize
spec:
  central:
    endpoint: https://central.stackrox.svc:443
    authSecretName: central-auth
    authSecretNamespace: stackrox
    tlsConfig:
      insecureSkipVerify: true
  exports:
    mode: aggregated
    alerts:
      enabled: true
      filters:
        minSeverity: MEDIUM
        excludeResolved: true
      maxPerNamespace: 5000 
    imageVulnerabilities:
      enabled: true
      filters:
        minSeverity: MEDIUM
        fixableOnly: false
        maxCVEsPerResource: 50
      maxImages: 10000
    nodeVulnerabilities:
      enabled: true
      filters:
        minSeverity: HIGH
        fixableOnly: false
        maxCVEsPerResource: 50
  syncInterval: 10m
  backfillDuration: 720h
